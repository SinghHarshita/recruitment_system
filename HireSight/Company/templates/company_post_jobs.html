{% extends "layout/new_company_header.html" %}
{% block company %}
{% load static %}
<!-- <h1>{{name}}</h1>
<h2>Post Jobs</h2> -->

<!-- <div class="row">
        <p>Hello!</p>
        <p>Post a Job here!</p> 
    </div> -->
    <div class="well well-sm"> 
        <h4>Please fill the details to post a new job.</h4> 
    </div> 
    
    <form id="rootwizard-2" onsubmit="update_value()" method="post" action="{% url 'Company:saveQuestions' %}" class="form-wizard validate"> 
        {% csrf_token %}
        <div class="steps-progress"> 
            <div class="progress-indicator"></div> 
        </div> 
        <ul> 
            <li class="active"><a href="#tab2-1" data-toggle="tab"><span>1</span>Job Details</a> </li> 
            <li> <a href="#tab2-2" data-toggle="tab"><span>2</span>Job Requirements</a> </li> 
            <li class=""> <a href="#tab2-3" data-toggle="tab"><span>3</span>Knockout Questions</a> </li> 
            <li class=""> <a href="#tab2-4" data-toggle="tab"><span>4</span>Questions</a> </li> 
            <!-- <li> <a href="#tab2-5" data-toggle="tab"><span>5</span>Register</a> </li>  -->
        </ul> 
            <div class="tab-content"> 
                <div class="tab-pane active" id="tab2-1"> 
                    <div class="row"> 
                        <div class="col-md-6"> 
                            <div class="form-group"> 
                                <label class="control-label" for="designation">Designation</label> 
                                <input class="form-control" onchange="change_designation(this.value)" name="designation" id="designation" data-validate="required" placeholder="Designation" /> 
                            </div> 
                        </div> 
                        <div class="col-md-6"> 
                            <div class="form-group"> 
                                <label class="control-label" for="no_of_vacancies">Enter number of vacancies</label> 
                                <input type="number" onchange="change_vacancy(this.value)" class="form-control" name="no_of_vacancies" id="no_of_vacancies" data-validate="required" data-mask="date" placeholder="Vacancies" /> 
                            </div> 
                        </div> 
                    </div> 
                    <div class="row"> 
                        <div class="col-md-12"> 
                            <div class="form-group"> 
                                <label class="control-label" for="description">Job Description</label> 
                                <textarea class="form-control autogrow" onchange="change_description(this.value)" name="description" id="description" data-validate="minlength[4]" rows="5" placeholder="Enter job description"></textarea> 
                            </div> 
                        </div> 
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                                <label class="control-label" for="last_date">Closing Date</label>
                                <input class="form-control datepicker" onchange="change_last_date(this.value)" name="last_date" id="last_date" data-validate="required" value="" placeholder="Closing Date" /> 
                        </div>
                    </div> 
                </div> 
                <div class="tab-pane" id="tab2-2"> 
                    <div class="row"> 
                        <div class="col-md-8"> 
                            <div class="form-group"> 
                                <label class="control-label" for="qualification">Qualification</label> 
                                <input type = "text" class="form-control" onchange="change_qualification(this.value)" name="qualification" id="qualification" data-validate="required" placeholder="Enter Qualifications separated by space" /> 
                            </div> 
                        </div> 
                        <div class="col-md-4"> 
                            <div class="form-group"> 
                                <label class="control-label" for="experience">Experience</label> 
                                <input type = "number" class="form-control" onchange="change_experience(this.value)" name="experience" id="experience" data-validate="required" placeholder="Enter experience in years" /> 
                            </div> 
                        </div> 
                    </div> 
                    <div class="row"> 
                        <div class="col-md-12"> 
                            <div class="form-group"> 
                                <label class="control-label" for="skills">Skills</label> 
                                <input class="form-control" name="skills" id="skills" onchange="change_skills(this.value)" data-validate="required" placeholder="Enter skills here ( separated by comma(,) )" /> 
                            </div> 
                        </div> 
                    </div> 
                    <!-- <div class="row"> 
                        <div class="col-md-5"> 
                            <div class="form-group"> 
                                <label class="control-label" for="city">City</label> 
                                <input class="form-control" name="city" id="city" data-validate="required" placeholder="Current city" /> 
                            </div> 
                        </div> 
                        <div class="col-md-4"> 
                            <div class="form-group"> 
                                <label class="control-label" for="state">State</label> 
                                <select name="test" class="selectboxit"> 
                                    <optgroup label="United States"> 
                                        <option value="1">Alabama</option> 
                                        <option value="2">Boston</option> 
                                        <option value="3">Ohaio</option> 
                                        <option value="4">New York</option> 
                                        <option value="5">Washington</option> 
                                    </optgroup> 
                                </select> 
                            </div> 
                        </div> 
                        <div class="col-md-3"> 
                            <div class="form-group"> 
                                <label class="control-label" for="zip">Zip</label>
                                <input class="form-control" name="zip" id="zip" data-mask="** *** **" data-validate="required" placeholder="Zip Code" /> 
                            </div> 
                        </div> 
                    </div>  -->
                </div> 
                <div class="tab-pane" id="tab2-3"> 
                    <!-- <strong>Primary School</strong> 
                    <br /> 
                    <br /> 
                    <div class="row"> 
                        <div class="col-md-4"> 
                            <div class="form-group"> 
                                <label class="control-label" for="prim_subject">Subject</label> 
                                <input class="form-control" name="prim_subject" id="prim_subject" data-validate="require" placeholder="Graduation Degree" /> 
                            </div> 
                        </div> 
                        <div class="col-md-4"> 
                            <div class="form-group"> 
                                <label class="control-label" for="prim_school">School Name</label> 
                                <input class="form-control" name="prim_school" id="prim_school" placeholder="Which school did you attended" /> 
                            </div> 
                        </div> 
                        <div class="col-md-2"> 
                            <div class="form-group"> 
                                <label class="control-label" for="prim_date_start">Start Date</label> 
                                <input class="form-control datepicker" name="prim_date_start" id="prim_date_start" data-start-view="2" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                        <div class="col-md-2"> 
                            <div class="form-group"> 
                                <label class="control-label" for="prim_date_end">End Date</label> 
                                <input class="form-control datepicker" name="prim_date_end" id="prim_date_end" data-start-view="2" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                    </div> 
                    <br /> 
                    <strong>Secondary School</strong> 
                    <br /> <br /> 
                    <div class="row"> 
                        <div class="col-md-4"> 
                            <div class="form-group"> 
                                <label class="control-label" for="second_subject">Subject</label> 
                                <input class="form-control" name="second_subject" id="second_subject" data-validate="require" placeholder="High School" /> 
                            </div> 
                        </div> 
                        <div class="col-md-4"> 
                            <div class="form-group"> 
                                <label class="control-label" for="second_school">School Name</label> 
                                <input class="form-control" name="second_school" id="second_school" placeholder="Which school did you attended" /> 
                            </div> 
                        </div> 
                        <div class="col-md-2"> 
                            <div class="form-group"> 
                                <label class="control-label" for="second_date_start">Start Date</label> 
                                <input class="form-control datepicker" name="second_date_start" id="second_date_start" data-start-view="2" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                        <div class="col-md-2"> 
                            <div class="form-group"> 
                                <label class="control-label" for="second_date_end">End Date</label> 
                                <input class="form-control datepicker" name="second_date_end" id="second_date_end" data-start-view="2" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                    </div> 
                    <br /> 
                    <div class="row"> 
                        <div class="col-md-12"> 
                            <div class="form-group"> 
                                <label class="control-label" for="other_qualifications">
                                    <strong>Other Qualifications</strong>
                                </label> 
                                <textarea class="form-control autogrow" name="other_qualifications" id="other_qualifications" placeholder="List one subject per row"></textarea> 
                            </div> 
                        </div> 
                    </div>  -->
                    <!-- <strong>Knockout Questions</strong> -->
                    <div class="col-md-8">
                            <div class="form-group">
                                    <label class="control-label" for="k_question0">Question</label> 
                                    <input class="form-control" name="k_question0" id="k_question0" data-validate="required" placeholder="Question" onchange="change_knockout(this.id,this.value)" />
                                <br /> 
                            </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="control-label" for="no_of_options0">Number of Options</label>
                            <input type = "number" class="form-control" name="no_of_options0" id = "no_of_options0" data-validate="required" placeholder="Number of Options" onchange="addKnockOutOptions(this.id,this.value)" />
                            <br />
                        </div>
                    </div>
                    <div id="fields1">
                        
                    </div>
                    <div class="row">
                        <button type="button" class="btn btn-primary" onclick="addKQuestion()">Add Question</button>
                    </div>
                </div> 
                <div class="tab-pane" id="tab2-4"> 
                    <!-- <strong>Current &amp; Past Jobs</strong> 
                    <br /> <br /> 
                    <div class="row"> 
                        <div class="col-md-1"> 
                            <label class="control-label">&nbsp;</label> 
                            <p class="text-right"> 
                                <span class="label label-info">1</span> 
                            </p> 
                        </div> 
                        <div class="col-md-3"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_1">Company Name</label> 
                                <input class="form-control" name="job_position_1" id="job_position_1" data-validate="require" placeholder="Your current job" /> 
                            </div> 
                        </div> 
                        <div class="col-md-4"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_1">Job Position</label> 
                                <input class="form-control" name="job_position_1" id="job_position_1" data-validate="require" placeholder="Your current position" /> 
                            </div> 
                        </div> 
                        <div class="col-md-2"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_start_date_1">Start Date</label> 
                                <input class="form-control datepicker" name="job_position_start_date_1" id="job_position_start_date_1" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                        <div class="col-md-2"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_end_date_1">End Date</label> 
                                <input class="form-control datepicker" name="job_position_end_date_1" id="job_position_end_date_1" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                    </div>  -->
                    <!-- <div class="row"> 
                        <div class="col-md-1"> 
                            <label class="control-label">&nbsp;</label> 
                            <p class="text-right"> 
                                <span class="label label-info">2</span> 
                            </p> 
                        </div> 
                        <div class="col-md-3"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_2">Company Name</label> 
                                <input class="form-control" name="job_position_2" id="job_position_2" data-validate="require" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                        <div class="col-md-4"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_2">Job Position</label> 
                                <input class="form-control" name="job_position_2" id="job_position_2" data-validate="require" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                        <div class="col-md-2"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_start_date_2">Start Date</label> 
                                <input class="form-control datepicker" name="job_position_start_date_2" id="job_position_start_date_2" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                        <div class="col-md-2"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_end_date_2">End Date</label> 
                                <input class="form-control datepicker" name="job_position_end_date_2" id="job_position_end_date_2" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                    </div> 
                    <div class="row"> 
                        <div class="col-md-1"> 
                            <label class="control-label">&nbsp;</label> 
                            <p class="text-right"> 
                                <span class="label label-info">3</span> 
                            </p> 
                        </div> 
                        <div class="col-md-3"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_3">Company Name</label> 
                                <input class="form-control" name="job_position_3" id="job_position_3" data-validate="require" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                        <div class="col-md-4"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_3">Job Position</label> 
                                <input class="form-control" name="job_position_3" id="job_position_3" data-validate="require" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                        <div class="col-md-2"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_start_date_3">Start Date</label> 
                                <input class="form-control datepicker" name="job_position_start_date_3" id="job_position_start_date_3" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                        <div class="col-md-2"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_end_date_3">End Date</label> 
                                <input class="form-control datepicker" name="job_position_end_date_3" id="job_position_end_date_3" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                    </div> 
                    <div class="row"> 
                        <div class="col-md-1"> 
                            <label class="control-label">&nbsp;</label> 
                            <p class="text-right"> 
                                <span class="label label-info">4</span> 
                            </p> 
                        </div> 
                        <div class="col-md-3"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_4">Company Name</label> 
                                <input class="form-control" name="job_position_4" id="job_position_4" data-validate="require" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                        <div class="col-md-4"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_4">Job Position</label> 
                                <input class="form-control" name="job_position_4" id="job_position_4" data-validate="require" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                        <div class="col-md-2"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_start_date_4">Start Date</label> 
                                <input class="form-control datepicker" name="job_position_start_date_4" id="job_position_start_date_4" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                        <div class="col-md-2"> 
                            <div class="form-group"> 
                                <label class="control-label" for="job_position_end_date_4">End Date</label> 
                                <input class="form-control datepicker" name="job_position_end_date_4" id="job_position_end_date_4" placeholder="(Optional)" /> 
                            </div> 
                        </div> 
                    </div>  -->
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                    <label for="question_type_1">Type</label>
                                    <select onfocus="" onchange="change_type(this.value)" name="question_type_1" id="question_type_1">
                                        <option value="Aptitude">Aptitude</option>
                                        <option value="Maths">Maths</option>
                                        <option value="English">English</option>
                                        <option value="Programming">Programming</option>
                                        <option value="Other">Other</option>
                                    </select>
                            </div>
                        </div>
                    </div>
                    
                    <div id="main_questions">

                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="question_1">Question</label>
                                    <input type="text" onchange="change_Question(this.id,'-1',this.value)" class="form-control" name="question_1" id="question_1" data-validate="required" placeholder="Question" /> 
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="answer_1">Answer</label>
                                    <input type="text" class="form-control" onchange="change_answer(this.id,-1,this.value)" name="answer_1" id="answer_1" data-validate="required" placeholder="Answer" /> 
                                </div>
                            </div>
                            <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="marks_1">Marks</label>
                                        <input type="text" class="form-control" onchange="change_marks(this.id,-1,this.value)" name="marks_1" id="marks_1" data-validate="required" placeholder="Marks" /> 
                                    </div>
                            </div>
                        </div>

                    

                        <div class="row">
                            <p>Options</p>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <input type="text" class="form-control" onchange="change_option(this.id,-1,this.value)" name="option_1_1" id="option_1_1" data-validate="required" placeholder="Option 1" /> 
                                </div>
                            </div>
                            <div class="col-md-6">
                                
                                <div class="form-group">
                                    <input type="text" class="form-control" onchange="change_option(this.id,-1,this.value)" name="option_1_2" id="option_1_2" data-validate="required" placeholder="Option 2" /> 
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <input type="text" class="form-control" onchange="change_option(this.id,-1,this.value)" name="option_1_3" id="option_1_3" data-validate="required" placeholder="Option 3" /> 
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <input type="text" class="form-control" onchange="change_option(this.id,-1,this.value)" name="option_1_4" id="option_1_4" data-validate="required" placeholder="Option 4" /> 
                                </div>
                            </div>
                        </div>

                    </div>
                    
                    <div id="questions">

                    </div>
                    
                    <div class="row">
                        <button class="btn btn-primary" style="float:right" type="button" onclick="addtypeQuestion()">Add Question</button><br><br>
                    </div>
                    
                    <div class="form-group">
                        <input type="hidden" name="edit_jobs_details" id="edit_jobs_details" value="" /> 
                        <button type="submit" class="btn btn-primary">Submit</button> 
                    </div>
                
                </div> 
                <!-- <div class="tab-pane" id="tab2-5"> 
                    <div class="form-group"> 
                        <label class="control-label">Choose Username</label> 
                        <div class="input-group"> 
                            <div class="input-group-addon"> 
                                <i class="entypo-user"></i> 
                            </div> 
                            <input type="text" class="form-control" name="username" id="username" data-validate="required,minlength[5]" data-message-minlength="Username must have minimum of 5 chars." placeholder="Could also be your email" /> 
                        </div> 
                    </div> 
                    <div class="row"> 
                        <div class="col-md-6"> 
                            <div class="form-group"> 
                                <label class="control-label">Choose Password</label> 
                                <div class="input-group"> 
                                    <div class="input-group-addon"> 
                                        <i class="entypo-key"></i> 
                                    </div> 
                                    <input type="password" class="form-control" name="password" id="password" data-validate="required" placeholder="Enter strong password" /> 
                                </div> 
                            </div> 
                        </div> 
                        <div class="col-md-6"> 
                            <div class="form-group"> 
                                <label class="control-label">Repeat Password</label> 
                                <div class="input-group"> 
                                    <div class="input-group-addon"> 
                                        <i class="entypo-cw"></i> 
                                    </div> 
                                    <input type="password" class="form-control" name="password" id="password2" data-validate="required,equalTo[#password]" data-message-equal-to="Passwords doesn't match." placeholder="Confirm password" /> 
                                </div> 
                            </div> 
                        </div> 
                    </div> 
                    <div class="row"> 
                        <div class="col-md-6"> 
                            <div class="form-group"> 
                                <label class="control-label">Include Services</label> 
                                <select multiple="multiple" name="my-select[]" class="form-control multi-select"> 
                                    <option value="1">Web Builder</option> 
                                    <option value="2" selected>Server Side Scripting</option> 
                                    <option value="3">Secure Connection</option> 
                                    <option value="4" selected>Database Access</option> 
                                    <option value="5" selected>Email</option> 
                                    <option value="6">eCommerce</option> 
                                </select> 
                            </div> 
                        </div> 
                        <div class="col-md-6"> 
                            <div class="form-group"> 
                                <label class="control-label">Gender</label> 
                                <br /> 
                                <div class="make-switch switch-small" data-on-label="M" data-off-label="F"> 
                                    <input type="checkbox" checked> 
                                </div> 
                            </div> 
                            <div class="form-group"> 
                                <label class="control-label">Subscribe for Newsletter</label> 
                                <br /> 
                                <div class="make-switch switch-small" data-on-label="Yes" data-off-label="No"> 
                                    <input type="checkbox" checked> 
                                </div> 
                            </div> 
                            <div class="form-group"> 
                                <label class="control-label">Auto-renew Subscription 
                                    <span class="label label-warning">Yearly</span> 
                                </label> 
                                <br /> 
                                <div class="make-switch switch-small" data-on-label="Yes" data-off-label="No"> 
                                    <input type="checkbox" checked> 
                                </div> 
                            </div> 
                        </div> 
                    </div> 
                    <div class="form-group"> 
                        <div class="checkbox checkbox-replace"> 
                            <input type="checkbox" name="chk-rules" id="chk-rules" data-validate="required" data-message-message="You must accept rules in order to complete this registration."> 
                            <label for="chk-rules">By registering I accept terms and conditions.</label> 
                        </div> 
                    </div> 
                    <div class="form-group"> 
                        <button type="submit" class="btn btn-primary">Finish Registration</button> 
                    </div> 
                </div>  -->
                <ul class="pager wizard"> 
                    <li class="previous"> <a href="#"><i class="entypo-left-open"></i> Previous</a> </li> 
                    <li class="next"> <a href="#">Next <i class="entypo-right-open"></i></a> </li> 
                </ul> 
            </div> 
    </form>

{% endblock %}


{% block footer %}

<script>
    
    // Adding options for knockout questions
    var k_q_no = 0;
    var k_x = 1;

    function addKnockOutOptions(id,num){
        //var num = $("#no_of_options1").getattribute("value");
        // var num = $("#no_of_options1").val();
        //console.log(num);
        
        index = id[id.length-1];
        if(1){
            // var1["2"]["knockout"][id] = {}
            var1["2"]["knockout"][index]["no_of_options"] = num;    
        }else{
            // var1["2"]["knockout"][id] = {}
            var1["2"]["knockout"][index]["no_of_options"] = num;
        }

        if(num>0) {
                //console.log(num);
                // var add = num - k_q_no;
                // k_q_no = num;
                var openingRowDiv = "<div class = 'row'>";
                var openingColumnDiv = "<div class = 'col-sm-6'>";
                var closingDiv = "</div>";
                //$("#feilds")
                
                for (let i = 0; i < num; i++) {
                    // console.log("hello");
                    var html = openingRowDiv + openingColumnDiv 
                    +  "<div class='form-group'> <label class='control-label' for='option" + id + "'>"+"Option" 
                    +"</label><input class='form-control' type='text' name ='option" + id + "' data-validate='required' onchange='change_knoption(" + index + "," + i + ",this.value)' /></div>" 
                    + closingDiv + openingColumnDiv
                    +  "<div class='form-group'> <label class='control-label' for='marks" + id + "'>"+ "Marks" 
                    +"</label><input class='form-control' type='text' name ='Marks" + id + "' data-validate='required' onchange='change_knmarks(" + index + "," + i + ",this.value)' /></div>" 
                    + closingDiv + closingDiv
                    $("#fields1").append(html);
                    k_x++;
                }
            }
            else{
                
            }
    }

    // Adding another knockout question
    var fields = 0;
    function addKQuestion() {
        fields ++;
        var html = '<div class="col-md-8"><div class="form-group"><label class="control-label" for="k_question' + fields + '">Question</label><input onchange="change_knockout(this.id,this.value)" class="form-control" name="k_question' + fields + '" id="k_question' + fields + '" data-validate="required" placeholder="Question" /><br /></div></div><div class="col-md-4"><div class="form-group"><label class="control-label" for="no_of_options' + fields + '">Number of Options</label><input value="" type = "number" class="form-control" name="no_of_options' + fields + '" id="no_of_options' + fields + '" data-validate="required" placeholder="Number of Options" onchange="addKnockOutOptions(this.id,this.value)" /><br /></div></div>'; 
        $('#fields1').append(html);
    }






    var glb = "Aptitude";
    function change_type(val){
        // alert(val);
        glb = val;
        let temp_html1 = '';
        // alert(JSON.stringify(var1["3"]["questions"]));
        if(var1["3"]["questions"]){
            for(var key in var1["3"]["questions"]){
                if(var1["3"]["questions"][key]["type"] == val){
                    // alert("Inside for loop...");
                    temp_html1 += '<div class="row"><div class="col-md-12"><div class="form-group"><label for="question_' + (key+1) + '">Question</label><input type="text" onchange="change_Question(this.id,' + var1["3"]["questions"][key]["arr_id"] + ',this.value)" class="form-control" name="question_' + (key+1) + '" id="question_' + (key+1) + '" data-validate="required" placeholder="Question" value=' + var1["3"]["questions"][key]["question"] + ' /></div></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label for="answer_' + (key+1) + '">Answer</label><input type="text" class="form-control" onchange="change_answer(this.id,' + var1["3"]["questions"][key]["arr_id"] + ',this.value)" name="answer_' + (key+1) + '" id="answer_' + (key+1) + '" data-validate="required" placeholder="Answer" value=' + var1["3"]["questions"][key]["answer"] + ' /></div></div><div class="col-md-6"><div class="form-group"><label for="marks_' + (key+1) + '">Marks</label><input type="text" class="form-control" onchange="change_marks(this.id,' + var1["3"]["questions"][key]["arr_id"] + ',this.value)" name="marks_' + (key+1) + '" id="marks_' + (key+1) + '" data-validate="required" placeholder="Marks" value=' + var1["3"]["questions"][key]["marks"] + ' /></div></div></div><div class="row"><p>Options</p><div class="col-md-6"><div class="form-group"><input type="text" class="form-control" onchange="change_option(this.id,' + var1["3"]["questions"][key]["arr_id"] + ',this.value)" name="option_' + (key+1) + '_1" id="option_' + (key+1) + '_1" data-validate="required" placeholder="Option 1" value=' + var1["3"]["questions"][key]["options"][0] + ' /></div></div><div class="col-md-6"><div class="form-group"><input type="text" class="form-control" onchange="change_option(this.id,' + var1["3"]["questions"][key]["arr_id"] + ',this.value)" name="option_' + (key+1) + '_2" id="option_' + (key+1) + '_2" data-validate="required" placeholder="Option 2" value=' + var1["3"]["questions"][key]["options"][1] + ' /></div></div><div class="col-md-6"><div class="form-group"><input type="text" class="form-control" onchange="change_option(this.id,' + var1["3"]["questions"][key]["arr_id"] + ',this.value)" name="option_' + (key+1) + '_3" id="option_' + (key+1) + '_3" data-validate="required" placeholder="Option 3" value=' + var1["3"]["questions"][key]["options"][2] + ' /></div></div><div class="col-md-6"><div class="form-group"><input type="text" class="form-control" onchange="change_option(this.id,' + var1["3"]["questions"][key]["arr_id"] + ',this.value)" name="option_' + (key+1) + '_4" id="option_' + (key+1) + '_4" data-validate="required" placeholder="Option 4" value=' + var1["3"]["questions"][key]["options"][3] + ' /></div></div></div>';
                    document.getElementById('main_questions').innerHTML = temp_html1;
                }else{
                    // alert(temp_html1);
                }
                // alert(key);
            }
        }

        if(temp_html1.length == 0){
            temp_html1 += '<div class="row"><div class="col-md-12"><div class="form-group"><label for="question_1">Question</label><input type="text" onchange="change_Question(this.id,-1,this.value)" class="form-control" name="question_1" id="question_1" data-validate="required" placeholder="Question" /></div></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label for="answer_1">Answer</label><input type="text" class="form-control" onchange="change_answer(this.id,-1,this.value)" name="answer_1" id="answer_1" data-validate="required" placeholder="Answer" /></div></div><div class="col-md-6"><div class="form-group"><label for="marks_1">Marks</label><input type="text" class="form-control" onchange="change_marks(this.id,-1,this.value)" name="marks_1" id="marks_1" data-validate="required" placeholder="Marks" /></div></div></div><div class="row"><p>Options</p><div class="col-md-6"><div class="form-group"><input type="text" class="form-control" onchange="change_option(this.id,-1,this.value)" name="option_1_1" id="option_1_1" data-validate="required" placeholder="Option 1" /></div></div><div class="col-md-6"><div class="form-group"><input type="text" class="form-control" onchange="change_option(this.id,-1,this.value)" name="option_1_2" id="option_1_2" data-validate="required" placeholder="Option 2" /></div></div><div class="col-md-6"><div class="form-group"><input type="text" class="form-control" onchange="change_option(this.id,-1,this.value)" name="option_1_3" id="option_1_3" data-validate="required" placeholder="Option 3" /></div></div><div class="col-md-6"><div class="form-group"><input type="text" class="form-control" onchange="change_option(this.id,-1,this.value)" name="option_1_4" id="option_1_4" data-validate="required" placeholder="Option 4" /></div></div></div>';
            // document.getElementById('main_questions').innerHTML = temp_html1;
            $('#main_questions').html(temp_html1);
        }
}

    // Knockout Questions start

    function change_knockout(id,val){
        // console.log(var1);
        // alert(JSON.stringify(var1));

        index = id[id.length-1]
        tp = var1["2"]["knockout"][index];
        if(tp){
            var1["2"]["knockout"][index]["question"] = val;    
        }else{
            var1["2"]["knockout"][index] = {};
            var1["2"]["knockout"][index]["question"] = val;
        }
        // alert(JSON.stringify(var1));
    }

    function change_knoption(pid,id,val){

        temp = var1["2"]["knockout"][pid];
        if(temp){
            if(temp["options"]){
                var1["2"]["knockout"][pid]["options"][id] = val;    
            }else{
                var1["2"]["knockout"][pid]["options"] = [];
                var1["2"]["knockout"][pid]["options"][id] = val;
            }
            
        }else{
            // var1["2"]["knockout"][pid] = {};
            var1["2"]["knockout"][pid]["options"] = [];
            var1["2"]["knockout"][pid]["options"][id] = val;
        }
        // console.log(var1)
        // alert(JSON.stringify(var1));

    }

    function change_knmarks(pid,id,val){
        temp = var1["2"]["knockout"][pid];
        if(temp){
            if(temp["marks"]){
                var1["2"]["knockout"][pid]["marks"][id] = val;    
            }else{
                var1["2"]["knockout"][pid]["marks"] = [];
                var1["2"]["knockout"][pid]["marks"][id] = val;
            }
            
        }else{
            // var1["2"]["knockout"][pid] = {};
            var1["2"]["knockout"][pid]["marks"] = [];
            var1["2"]["knockout"][pid]["marks"][id] = val;
        }
        // console.log(var1);
        // alert(JSON.stringify(var1));
    }

    // Knockout Questions end

    function change_designation(val){
        // alert(val);
        var1["0"]["job_details"]["designation"] = val;
        // alert(JSON.stringify(var1["0"]));
    }

    function change_Question(id,arr_id1,val){
        // alert(id[(id.length)-1]);
        // alert(JSON.stringify(var1["3"]["questions"]));
        // var1["3"]["questions"][id[(id.length)-1]-1] = {
        //     "type" : glb,
        //     "question" : val
        // }
        if(arr_id1 == '-1'){
            var1["3"]["questions"].push({
                "arr_id" : var1["3"]["questions"].length,
                "type" : glb,
                "question" : val
            });
            // alert("push");    
        }else{
            var1["3"]["questions"][arr_id1]["question"] = val;
            // alert("edit");
        }
        
        // alert(JSON.stringify(var1));
        // console.log(var1);
    }

    function change_answer(id,arr_id1,val){
        
        // alert(id);
        // alert(val);
        if(arr_id1 == '-1'){
            len1 = var1["3"]["questions"].length;
            var1["3"]["questions"][len1-1]["answer"] = val;
        }else{
            var1["3"]["questions"][arr_id1]["answer"] = val;
        }

        // if(var1["3"]["questions"][id[(id.length)-1]-1]){
        //     var1["3"]["questions"][id[(id.length)-1]-1]["answer"] = val;    
        // }else{
        //     tp = {"answer" : val};
        //     var1["3"]["questions"] = {}
        //     var1["3"]["questions"][id[(id.length)-1]-1] = tp;
        // }
        
        console.log(var1);
    }

    function change_marks(id,arr_id1,val){
        if(arr_id1 == '-1'){
            len1 = var1["3"]["questions"].length;
            var1["3"]["questions"][len1-1]["marks"] = val;
        }else{
            var1["3"]["questions"][arr_id1]["marks"] = val;
        }

        // var1["3"]["questions"][id[(id.length)-1]-1]["marks"] = val;
    
    }

    function change_option(id,arr_id1,val){
        // alert(id);
        
        if(arr_id1 == '-1'){
            len1 = var1["3"]["questions"].length;
            opt = id[id.length-1];
            list1 = var1["3"]["questions"][len1-1]["options"];
            if(list1){
                var1["3"]["questions"][len1-1]["options"][opt-1] = val;    
            }else{
                var1["3"]["questions"][len1-1]["options"] = [];
                var1["3"]["questions"][len1-1]["options"][opt-1] = val;
            }
            
        }else{
            opt = id[id.length-1];
            var1["3"]["questions"][arr_id1]["options"][opt-1] = val;
        }

        // parent = id[id.length-3];
        // opt = id[id.length-1];
        // list = var1["3"]["questions"][parent-1]["options"];
        // if(list){
        //     list[opt-1] = val;
        //     var1["3"]["questions"][parent-1]["options"] = list;
        // }else{
        //     list = [];
        //     list[opt-1] = val;
        //     var1["3"]["questions"][parent-1]["options"] = list;
        // }
        // alert(JSON.stringify(var1));
        // var1["3"]["questions"][id[(id.length)-1]-1]["options"] = val;   
    
    }

    function change_last_date(val){
        var1["0"]["job_details"]["last_date"] = val;
    }

    function change_qualification(val){
        res = val.split(" ");
        temp_arr = []
        for(var i=0;i<res.length;i++){
            temp_arr.push(res[i]);
        }
        var1["1"]["requirements"]["qualification"] = temp_arr;
    }

    function change_experience(val){
        var1["1"]["requirements"]["experience"] = temp_arr;
    }

    function change_skills(val){
        res = val.split(",");
        temp_arr = []
        for(var i=0;i<res.length;i++){
            temp_arr.push(res[i]);
        }
        var1["1"]["requirements"]["skills"] = temp_arr;
    }

    function change_vacancy(val){
        var1["0"]["job_details"]["no_of_vacancies"] = val;
    }

    function change_description(val){
        var1["0"]["job_details"]["description"] = val;
    }

    let var1;
    $(document).on('ready',function(){
        var1 = {
            0 : {
                "job_details" : {
                    "designation" : "",
                    "description" : "",
                    "no_of_vacancies" : "",
                    "last_date" : ""
                }
            },
            1 : {
                "requirements" : {
                    "skills" : [],
                    "qualification" : [],
                    "experience" : ""
                }
            },
            2 : {
                "knockout" : {}
            },
            3 : {
                "questions" : [],
                "types" : ['Aptitude','Maths','Programming','Other']
            }
        }
        // alert(JSON.stringify(var1));
    });

    let questions_count  = 1;
    function addtypeQuestion(){
        // alert(document.getElementById('questions').value);
        questions_count++;
        var questions_html = '';
            questions_html+= '<div class="row"><div class="col-md-12"><div class="form-group"><label for="question_' + questions_count + '">Question</label><input type="text" onchange="change_Question(this.id,this.value)" class="form-control" name="question_' +  questions_count + '" id="question_"' + questions_count + '"' + '" data-validate="required" placeholder="Question" /></div></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label for="answer_' + questions_count + '">Answer</label><input type="text" class="form-control" onchange="change_answer(this.id,-1,this.value)" name="answer_' + questions_count + '" id="answer_' + questions_count + '" data-validate="required" placeholder="Answer" /></div></div><div class="col-md-6"><div class="form-group"><label for="marks_' + questions_count + '">Marks</label><input type="text" class="form-control" onchange="change_marks(this.id,-1,this.value)" name="marks_' + questions_count + '" id="marks_' + questions_count + '" data-validate="required" placeholder="Marks" /></div></div></div>';



            questions_html+='<div class="row"><p>Options</p><div class="col-md-6"><div class="form-group"><input type="text" class="form-control" onchange="change_option(this.id,-1,this.value)" name="option_' + questions_count + '_1" id="option_' + questions_count + '_1" data-validate="required" placeholder="Option 1" /></div></div><div class="col-md-6"><div class="form-group"><input type="text" class="form-control" onchange="change_option(this.id,-1,this.value)" name="option_'+ questions_count + '_2" id="option_' + questions_count + '_2" data-validate="required" placeholder="Option 2" /></div></div><div class="col-md-6"><div class="form-group"><input type="text" class="form-control" onchange="change_option(this.id,-1,this.value)" name="option_' + questions_count + '_3" id="option_' + questions_count + '_3" data-validate="required" placeholder="Option 3" /></div></div><div class="col-md-6"><div class="form-group"><input type="text" class="form-control" onchange="change_option(this.id,-1,this.value)" name="option_' + questions_count + '_4" id="option_' + questions_count + '_4" data-validate="required" placeholder="Option 4" /></div></div></div>';

        // document.getElementById('root-wizard-2')('questions').innerHTML += questions_html;
        $('#main_questions').append(questions_html);
        // questions_count++;
        // window.stop();
    }

    function update_value(){
        // alert(JSON.stringify(var1));
        document.getElementById('edit_jobs_details').value = JSON.stringify(var1);
        console.log(var1);
    }

</script>

<script src="{% static 'assets/js/jquery.bootstrap.wizard.min.js' %}" id="script-resource-8"></script> 
<script src="{% static 'assets/js/jquery.validate.min.js' %}" id="script-resource-9"></script> 
<script src="{% static 'assets/js/jquery.inputmask.bundle.js' %}" id="script-resource-10"></script> 
<script src="{% static 'assets/js/selectboxit/jquery.selectBoxIt.min.js' %}" id="script-resource-11"></script> 
<script src="{% static 'assets/js/bootstrap-datepicker.js' %}" id="script-resource-12"></script> 
<script src="{% static 'assets/js/bootstrap-switch.min.js' %}" id="script-resource-13"></script> 
<script src="{% static 'assets/js/jquery.multi-select.js' %}" id="script-resource-14"></script> 
<script src="{% static 'assets/js/neon-chat.js' %}" id="script-resource-15"></script>

{% endblock %}